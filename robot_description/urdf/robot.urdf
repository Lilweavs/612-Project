<?xml version="1.0" ?>
<!--
This file is used to build your robot using the URDF file format.
-->

<robot name="my_robot" xmlns:xacro="http://www.ros.org/wiki/xacro">
    
  <link name="world" />
      
  <joint name="fixed" type="fixed">
    <origin xyz="0 0 1.25" rpy="3.14159 0 0" />
    <parent link="world" />
    <child link="base_link" />
  </joint>

    <!-- base link -->
  <link name="base_link">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://robot_simulation/robot_description/meshes/base_link_v2.STL" scale="0.001 0.001 0.001"/>
      </geometry>
      
      <material name="grey">
        <color rgba="0.8 0.8 0.8 1"/>
      </material>
    </visual>

    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://robot_simulation/robot_description/meshes/base_link_v2.STL" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>

    <inertial>
      <mass value="1"/>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.01"/>
    </inertial>    
  </link>

  <joint name="base_to_first_joint" type="continuous">
    <origin xyz="0 0 0.06" rpy="0 0.785 0" />
    <axis xyz="0 1 0" />
    <limit effort="1.0" velocity="30.0" />
    <parent link="base_link" />
    <child link="first_link" />
    <dynamics damping="0.001" friction="0.0" />
  </joint>

    <!-- 1st link -->
  <link name="first_link">
    <visual>
      <origin xyz="0 0 0.250" rpy="0 3.14159 0"/>
      <geometry>
        <mesh filename="package://robot_simulation/robot_description/meshes/link.STL" scale="0.001 0.001 0.001"/>
      </geometry>
      
      <material name="grey">
        <color rgba="0.8 0.8 0.8 1"/>
      </material>
    </visual>

    <collision>
      <origin xyz="0 0 0.250" rpy="0 3.14159 0"/>
      <geometry>
        <mesh filename="package://robot_simulation/robot_description/meshes/link.STL" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>

    <inertial>
      <mass value="0.15156" />
      <origin xyz="0 0 0.25" rpy="0 0 0" />
      <inertia ixx="0.00415" ixy="0.0" ixz="0.0" iyy="0.00415" iyz="0.0" izz="0.000035" />
    </inertial>    
  </link>

  <joint name="first_to_second_joint" type="continuous">
  <axis xyz="0 1 0" />
    <origin xyz="0 0 0.5" rpy="0 0 0" />
    <parent link="first_link" />
    <child link="second_link" />
    <limit effort="1.0" velocity="30.0" />
    <dynamics damping="0.001" friction="0.0" />
  </joint>

    <!-- 2nd link -->
  <link name="second_link">
    <visual>
      <origin xyz="0 0 0.250" rpy="0 3.14159 0"/>
      <geometry>
        <mesh filename="package://robot_simulation/robot_description/meshes/link.STL" scale="0.001 0.001 0.001"/>
      </geometry>
      
      <material name="grey">
        <color rgba="0.8 0.8 0.8 1"/>
      </material>
    </visual>

    <collision>
      <origin xyz="0 0 0.250" rpy="0 3.14159 0"/>
      <geometry>
        <mesh filename="package://robot_simulation/robot_description/meshes/link.STL" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>

    <inertial>
      <mass value="0.15156" />
      <origin xyz="0 0 0.25" rpy="0 0 0" />
      <inertia ixx="0.00415" ixy="0.0" ixz="0.0" iyy="0.00415" iyz="0.0" izz="0.000035" />
    </inertial>    
  </link>


  <!-- Need For Gazebo Integration -->
  <gazebo>
    <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">
      <robotNamespace>/simple_model</robotNamespace>
    </plugin>
  </gazebo>

  <!-- Base to first link gear box-->
  <transmission name="base_to_first_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <actuator name="motor_1">
      <mechanicalReduction>5</mechanicalReduction>
    </actuator>
    <joint name="base_to_first_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
  </transmission>

    <!-- First to second link gear box-->
  <transmission name="first_to_second_trans">
    <type>transmission_interface/SimpleTransmission</type>
    <actuator name="motor_2">
      <mechanicalReduction>5</mechanicalReduction>
    </actuator>
    <joint name="first_to_second_joint">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
  </transmission>

</robot>